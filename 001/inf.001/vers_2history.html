<HTML WIDTH=70% XPOS=right NOSUBLINKS="intro" NOSUBLINKS="xices" NOSUBLINKS="vers_">
<HEAD>
    <TITLE>
        XWorkplace Revision History (since 0.9.0)
    </TITLE>
</HEAD>
<!-- Note: This file changes almost with every XFolder version.
     I do not recommend translating it, because I do not keep logs
     about changes to this file.
     Simply use the English original instead. -->
<BODY>
<H6>"A designer knows he has arrived at
perfection not when there is no longer anything to add, but when there
is no longer anything to take away."
<P>Antoine de Saint-Exupery</H6>

This page lists the revision history of XWorkplace (since V0.9.0 was released).
The history of the previous XFolder packages are on a <A HREF="vers_2history2.html">separate page</A>.

<P><B>XWorkplace 0.9.6 (October 7, 2000)</B>

<H6>New features:
<UL><LI>Added QUICKOPEN=IMMEDIATE
<A HREF="xices_31xfldstrings.html">setup string</A> for folders.
<P><LI><A HREF="file_1extassocs.html">Extended file associations</A>
should pretty much work now as designed. I had to recreate the entire "start program"
mechanism in the WPS to get this to work since IBM didn't care to export that.
Besides I reworked the internal association mechanisms to use less memory now.
Still, all this is kinda slow...
<P><LI>"File types" page in "Workplace Shell" is resizeable now as well.
<P><LI>Added method tokens to method tables in "WPS Class List" object, if
anybody cares.
<P><LI>Added program data to "Object" page.

</UL>Bugfixes:
<UL><LI>"Sound" object should work now even if MMPM/2 is installed on a drive other
than the boot drive.
<P><LI>"Refresh now" from main menu messed up icon positions. Fixed.
<P><LI>XWorkplace tended to create lots of invisible menu windows which were never
destroyed. Fixed that all over the place, thus reducing the pressure on PM.
<P><LI>"Orphaned classes" in "WPS Class List" had "Create object" item. That didn't
make too much sense. Thanks again, Paul Ratcliffe.

</UL></H6><B>XWorkplace 0.9.5 (October 7, 2000)</B>

<H6>New features:
<UL><LI>New XWorkplace logo.
<P><LI>Added "Dereference shadows" setting to status bars page 2 even when
multiple objects are selected.
<P><LI>Added HPFS386 driver configuration dialog.
<P><LI>Added flags for APM power-off to <A HREF="xsd_4cmdline.html">XSHUTDWN.EXE</A>.

</UL>Miscellaneous changes:
<UL><LI>File operations confirmation windows now use folders as owner windows.
<P><LI>Added "Set" button to object hotkeys entry field.
<P><LI>Added a few more help panels.
<P><LI>Went back to the V0.9.3 code for closing the WarpCenter during shutdown.

</UL>Bugfixes:
<UL><LI>XWorkplace Installation folder got deleted on every install, leading to
an empty folder on updates. Fixed.
<P><LI>XWPMedia checkbox did nothing in "XWorkplace classes" dialog (XWPSetup). Fixed.
<P><LI>"Screen" settings notebook was too small when first opened. Fixed.
<P><LI>Object setup strings always displayed DEFAULTVIEW=xxx, even if the class's default
view wasn't changed. Fixed. Also added DEFAULTVIEW=RUNNING.
<P><LI>Disk objects had "Create another" menu item. Removed that.
<P><LI>WPCommandFile had "Module" page inherited from XFldProgramFile. Removed that.
<P><LI>Fixed progress bar text painting, which was too high with some resolutions.
<P><LI>Status bars for WPSharedDir were wrong. Fixed by Paul Ratcliffe.

<P><LI>Open "WPS class list" got solidly confused when Alt+F4 was pressed. Fixed.
<P><LI>Orphaned classes in "WPS class list" always had "Deregister" disabled. Fixed.
<P><LI>Class list view had "~" character in title. Fixed.

<P><LI>Dragging trash objects out of the trash can made them undeleteable. Fixed.
One of those awful WPS d'n'd problems.
<P><LI>Trash can status bars always used "." as a thousands separator. Fixed; this
respects the "Country" settings now.
<P><LI>Trash can never deleted empty hidden "\trash" directories. Fixed.

<P><LI>Object hotkeys didn't work after fresh install. Fixed.
<P><LI>Sliding focus was always half on, even if disabled, leading to deactivated
windows everywhere. Fixed.
<P><LI>Paul Ratcliffe fixed a couple more bugs related to sliding focus and auto-hide mouse.

<P><LI>WPS frequently hung after WPS restart with FP13/14 and WSeB. Attempted a fix.
<P><LI>You have now three options for XShutdown's "save INIs" behavior. Added my own
save-INI routines which should solve the problems which have existed for more than
two years now. Thanks, Carsten Arnold, for telling me about the .INI file format.

</UL></H6><B>XWorkplace 0.9.4 (August 9, 2000)</B>

<H6>New features:
<UL><LI>XWorkplace can now resize some settings pages if the notebook itself is resized.
<P><LI>Added "Keep original title" to folder instance settings notebook.
<P><LI>Added "Initial delay" to startup folder settings notebook. Using sliders for
configuration now.
<P><LI>Added query-setup-strings support for WPProgram.
<P><LI>Added help panels for a number of context menu items which were missing.

<P><LI>Added <A HREF="fldr_60defaultdoc.html">folder default documents.</A>

<P><LI>XWorkplace now creates a marker file called "xwparchv.tmp" on the Desktop before
archiving, which is automatically destroyed again after archiving is complete. This
allows for automatic disabling of the archiving functions if an archive was just
restored because then this file exists. This prevents overwriting the most recent
archiving again right after it was restored.

<P><LI>Trash can icons can be changed the <A HREF="065icons.html">normal way</A> now.
Replaced "Icon" page for trash can.
<P><LI>Automatic emptying of trash can before XShutdown works now. The setting has
been moved to the "XShutdown" settings page in the Desktop's settings notebook and
can be overridden in the shutdown confirmation dialog.
<P><LI>Added "Yes to all" message box button for file operations confirmations.

<P><LI>Added conversion of MB3 clicks to MB1 double-clicks ("Mouse" objects, "Mappings" page 2).
<P><LI>Extended "screen corner objects" to "screen border objects" so you now have eight
objects to be configured (four corners, four borders). You will need to reconfigure your objects
however.
<P><LI>Added <A HREF="pgmg_3sticky.html">PageMage sticky windows</A> settings page
to "Screen" settings object.
<P><LI>PageMage "stay on top" and "flash to top" work now.
<P><LI>Added special PageMage treatment for maximized windows.
<P><LI>Added PageMage to screen border special functions.

</UL>Miscellaneous changes:
<UL><LI>Rearranged some of the help pages which had grown too long.
<P><LI>Gave XWorkplace installation folder nice icons, finally.
<P><LI>Reworked exception handlers for XWPDAEMN.EXE.

</UL>Bugfixes:
<UL><LI>Archiving wasn't always disabled if "Archiving" flag was turned off on
replacement "Archives" page. Fixed.

<P><LI>Display of folder hotkey descriptions in context menu could not be disabled
when folder hotkeys were disabled altogether in XWPSetup. Fixed.
<P><LI>"Refresh now" from main context menu didn't refresh container. Fixed.
<P><LI>Fixed separators in WPDataFile context menus.
<P><LI>"Tree view auto-scroll" had a few repaint problems. Fixed.

<P><LI>Clicking "Refresh" on "Object" page doesn't hang WPS any more.
<P><LI>Opening "File" page on SWAPPER.DAT or CHKDSK.LOG doesn't hang WPS any more.
<P><LI>Several settings pages had "to be replaced" group titles. Fixed.

<P><LI>"Create object" menu items in XWPSetup remained active even after objects were
created from those menus. Fixed.

<P><LI>"Replace drive not ready" still didn't work with LAN drives. Another fix attempt.
<P><LI>"Replace file exists" caused dialog to always popup up with WPS "Create another".
Fixed.

<P><LI>Trash can "Destroy" always displayed confirmation, even if turned off.
<P><LI>Trash can didn't recognize drive Z:. Fixed.
<P><LI>Trash can "Drives" page was lacking a help page. Fixed.
<P><LI>Multiple selected drives on trash can "Drives" weren't all moved. Fixed.
<P><LI>Trash can didn't close open subfolders if the parent folder was moved to
the trash can. Fixed.
<P><LI>Trash can allowed objects with OBJSTYLE_NODELETE to be moved to the trash can,
including the Desktop itself. Fixed.
<P><LI>File operations (move to trash, true delete) got confused which objects to
operate on when browsing through several context submenus. There's a bug in the WPS
which removes source emphasis on the first WM_ENDMENU which comes in, even if that
applies to a submenu. XWorkplace then thought that source emphasis was set for the
entire folder and worked on that instead. Fixed.
<P><LI>Removed a debugging error message from file operations, which displayed a meaningless
error code.

<P><LI>CDFS.IFS driver dialog: "Optimize" and "Default" buttons didn't work. Fixed. Also added
help page.
<P><LI>CDFS.IFS driver dialog crashed if parameters line was empty. Fixed.
<P><LI>"Backup" and "Undo" buttons didn't work right with new "Mouse" settings pages. Fixed.
<P><LI>Help page was wrong in "Edit function key" dialog. Fixed.

<P><LI>Special treatment of seamless Win-OS/2 windows with sliding focus broke with V0.9.3. Fixed.
<P><LI>Seamless Win-OS/2 menus didn't work right with sliding focus either. Fixed.
<P><LI>Fixed a few quirks with delayed sliding focus because timer wasn't stopped in time.
<P><LI>Sliding menus changed sometimes even if the mouse wasn't moved. Fixed.
<P><LI>Desktop context menu with screen borders always popped up in bottom-left screen corner. Fixed.
<P><LI>VIO windows never showed up in the foreground. This was a strange one. Fixed that.
<P><LI>Fixed hangs of MB3 scrolling over Netscape and PMMail.
<P><LI>MB3 features broke compatibility with other PM hooks. Fixed.
<P><LI>Fixed "window list as mouse pointer" bug with PMMail.

<P><LI>Fixed a large number of bugs with PageMage. Toggling the title bar works now.
PageMage doesn't hang any more when the boot logo transparent windows are used.
PageMage's window position is finally saved.

<P><LI>XShutdown finally detects and closes the WarpCenter properly. This should fix the
"desktop icons move" problem.
<P><LI>XShutdown created 0-byte INI files without any warnings.
Somehow my error handling must have broken with 0.9.0.
This still doesn't fix the "save INIs" problem (see the
<A HREF="070faq.html">FAQ section</A>), but at least you get a warning now.

<P><LI>Exception handlers broke again with V0.9.3. Sigh... fixed.

<P><LI>NetscapeDDE failed when other DDE-aware applications were running. Thanks,
Rousseau de Pantalon, for supplying a fix for this.

</UL></H6><B>XWorkplace 0.9.3 (June 5, 2000)</B>

<H6>New features:
<UL><LI>Added CMDREF.INF support to "Drivers" page in "OS/2 Kernel".
<P><LI>Added configuration support for original IBM1S506.ADD.
<P><LI>Added help to "Drivers" page and IBM1S506.ADD/DANIS506.ADD dialog.
<P><LI>Added "PageMage" configuration pages to "Screen" object. Added more colors
to be configurable.
<P><LI>Added <A HREF="mouse_82funckeys.html">"function key" support.</A>
<P><LI>Added a new system sound for "hotkey pressed". Found a nice sound for this
in my library too. If this doesn't show up in your
"Sound" object, disable and enable system sounds once in XWPSetup, and answer "Yes" twice
to the questions whether system sounds should be removed and installed.
<P><LI>Implemented arrow hotkeys for quick PageMage desktop switching.
<P><LI>Added new "Paranoia" setting for disabling the more advanced XFolder menu functions,
in case these still don't work right somewhere.
<P><LI>Major rework of the XWP file operations engine. Added "True delete" support
(Shift + delete).
Proper error handling and progress display for folders containing other objects.
Trash can can finally delete subfolders with read-only files.
<P><LI>Implemented confirmations for trash object destruction.
<P><LI>Added error explanation to "Drive not ready" dialog.
<P><LI>Updated bm-lvm.cmd by Nenad Milenkovic.
<P><LI>Shutdown animation can now be enabled for reboots too.

</UL>Miscellaneous changes:
<UL><LI>Removed "HPFS" page from "OS/2 Kernel" since we have a "Configure" dialog on the
"Drivers" page also.
<P><LI>Made "Syslevels" container a bit larger.
<P><LI>Folder "BACKGROUND" setup string now returns the boot drive as "?:\" to make it
portable.
<P><LI>Added better error management to trash can file processing. When deleting files
from non-supported drives, you'll get prompted whether the file should be "really"
deleted instead of just complaining.
<P><LI>Sped up populating trash can which was kinda slow because of excessive repaints,
especially in Details view.
<P><LI>Reworked multimedia. Added new Media thread responsible for playing sounds and
such. SOUND.DLL is gone, finally; found a better way of doing this, thanks to a hint
by Achim HasenmÅller.
<P><LI>Dramatically sped up PageMage window movement.
<P><LI>Moved some more folder message processing code out of my exception handlers
so I don't get blamed for crashes in the default WPS processing.
<P><LI>Added SYM parsing in exception handlers for Warp 3 and Aurora UNI kernels.
<P><LI>Added new memory heap debugging system for debug builds.

</UL>Bugfixes:
<UL><LI>Network drives refused to open if "Replace drive not ready" was enabled.
Hope to have fixed that now.
<P><LI>Mouse mappings page 2 wasn't showing "Page 2/2". Fixed.
<P><LI>"WPS Class List" got confused with open windows and views so that folder views
got closed when the class list view got closed. Fixed.
<P><LI>Disabling "Snap to grid" in "XWorkplace Setup" had no effect on context menus. Fixed.
<P><LI>ICONSHADOWCOLOR setup string was reported as TREESHADOWCOLOR. Fixed.
<P><LI>Completely reworked folder subclassing management (see src/folder/fdrsubcl.c).
After two years, I have finally come up with a new way of storing folder data, which
replaces the old ugly routines which have been in XFolder/XWorkplace forever. I hope
this doesn't conflict with Object Desktop.
Hope that this fixes the "no folder close" problem which everybody experiences
irregularily from time to time.
<P><LI>A timer which was started at WPS startup was never stopped. Unfortunately, that
timer's responsibility was to destroy the "Archiving" status window. Since the timer
kept running, it kept trying to destroy that window, which resulted in random windows
being destroyed from time to time in the WPS process... fixed that. This is maybe the
strangest bug I've ever managed to get into a piece of software, and I only found it
by accident. Duh.
<P><LI>Fixed a few quirks with invisible trash can directory management. Sometimes
the trash can left lots of empty hidden directories on the drives.
<P><LI>When "Disable startup folder once" was checked in the "Panic" dialog at startup,
the startup folder didn't even work when the context menu was used. Fixed.
<P><LI>Fixed a considerable PM resource leak with bootlogo bitmaps, which were never deleted
after creation.
<P><LI>Fixed a couple of minor memory leaks.
<P><LI>When a PM hard error window popped up while the startup folder was being processed,
the startup folder would never disappear, and neither would the boot logo. Fixed.
<P><LI>Updating open notebook pages when internal settings changed wasn't thread-safe.
Fixed.
<P><LI>"Drivers" page in "OS/2 Kernel" didn't detect non-existent drivers. Fixed.
<P><LI>Driver dialog for IBM1S506/DANIS506.ADD crashed if the driver had no parameters
at all in CONFIG.SYS. Fixed.
<P><LI>DRVF_NOPARAMS broke. Fixed.
<P><LI>"Dos window" replacement icon was missing a detail in 32x32 resolution. Thanks,
Alfredo whatever-your-last-name-is from Spain, for supplying a replacement.
<P><LI>"8.Helv" font wasn't set right in "Restart WPS" confirmation dlg.
<P><LI>PageMage kept appearing in tasklist. Fixed that, because the daemon should not
be closed.
<P><LI>Extended system sounds were played even if disabled in XWPSetup. Fixed.
<P><LI>Fixed a few quirks with daemon/hook settings, which weren't always serialized
right.
<P><LI>Virtual keys (such as function keys) didn't work as hotkeys in VIO windows.
For some reason, WM_CHAR doesn't have the KC_VIRTUALKEY flag set with VIO
sessions. Fixed that.
<P><LI>Mouse pointer was gone forever when hook was deinstalled while the mouse pointer
was hidden. Fixed.
<P><LI>Fixed the problems with sliding focus combo-boxes closing all the time.
<P><LI>Fixed the problems with sliding focus and frames within frames (VIEW.EXE). You
can now even slide between subframes of a main frame. ;-)
<P><LI>Invoking XShutdown via launch pad broke with V0.9.0. Fixed.
<P><LI>Fixed a few quirks at the end of shutdown, which prevented the system from displaying
the animation and/or end box right.

</UL></H6><B>XWorkplace 0.9.2 (March 24, 2000)</B>
<H6>New features:
<UL><LI>Incorporated "PageMage", virtual desktops.
<P><LI>Automatic menu selection, even with configurable delay for submenus (as in Win95).
Added second "Movement" page to "Mouse" object for this.
<P><LI>New "Screen" settings object, which has those "System" settings pages dealing
with the screen. The "Screen" page from "OS/2 Kernel" has been moved to that object now.
<P><LI>Added "Syslevel" page to "OS/2 Kernel".
<P><LI>Trash can now automatically calculates the total size if a folder has been deleted,
including subdirectories.
<P><LI>Added meaningful file operations error messages. Drives support is finally
respected for deleting objects to the trash can.
<P><LI>XSHUTDWN.EXE has been added again. Seems to work.
<P><LI>Added "delay" setting for APM power off to "XShutdown" page.
<P><LI>Added hotkey description display in context menus.

</UL>Miscellaneous changes:
<UL><LI>"Shutdown" menu item now has the "d" shortcut, which doesn't conflict with
"Properties".
<P><LI>Further optimized hook logic for speed.
<P><LI>Changed all XWorkplace object IDs to start with &lt;XWP_xxx&gt; to avoid conflicts
with old XFolder versions.
<P><LI>The configuration folder is no longer automatically created at startup because
this lead to problems on some systems. Use the "Objects" page in "XWorkplace setup"
to create it manually.
<P><LI>Updated the "XWorkplace" sub-config folder a bit.
<P><LI>XWorkplace settings objects had a "Create another" menu item, which doesn't make
sense. Removed that.
<P><LI>Rearranged controls on "File" page a bit.
<P><LI>Added "?:\xwplog.log" file for XWorkplace warnings. If this file exists, you
might have a problem.
<P><LI>Increased stack space for all additional XWorkplace threads.
<P><LI>Removed context-sensitive help upon pressing F1 on some notebook pages.
Now we'll always show the help for the entire page first.

</UL>Bugfixes:
<UL><LI>Warp 3 detection didn't work, leading to wrong default settings and messy
dialogs when XWorkplace was run under Warp 3. Fixed.
<P><LI>Fixed a minor notebook mutex error.
<P><LI>"Archive" status window was displayed even if this was turned off. Fixed.
<P><LI>"Subject" field on first "File" page was limited to 36 characters. Changed this
to 260, even though the IBM docs say this isn't so. Thanks, Mike Reichel, for counting
the characters.
<P><LI>Added thread-safety checks to internal folder contents enumerations.
<P><LI>With folders, "Object" page would appear between the two "Icon" pages. Fixed.
<P><LI>Using work area folders would lock the WPS hard when objects in the folder were
re-opened. Fixed.
<P><LI>Removed static view field from folder view structure (SUBCLASSEDLISTITEM).
Now rechecking folder view every time this is needed because this might change.
<P><LI>Deleting the configuration folder would take to a lot of WPS-internal crashes
the next time a folder context menu was opened. Fixed.
<P><LI>Drives were checked for readiness even if "Replace drive not ready dlg" was
disabled. Fixed. If a drive cannot be opened now, disable that setting.
<P><LI>There was a heap allocation error with the XWPSetup object on object creation,
sometimes leading to system hangs. Fixed.
<P><LI>"Features" page "Undo" and "Default" buttons created duplicate records. Fixed.
<P><LI>XFldDisk and XFldShutdown items were checked in the "XWorkplace classes" dlg
even if those classes were not installed. Fixed.
<P><LI>Automatically creating the trashcan via "Features" works now.
<P><LI>The trash can now displays the "File exists" dialog correctly when a file exists
in the trash can already.
<P><LI>Converting settings from XFolder led to some problems. Fixed.
<P><LI>Menu buttons (e.g. the "Partitions" button) displayed a menu even if disabled. Fixed.
<P><LI>The bitmap which was created with the "Details" chart was never freed (baaaad
PM resource leak). Fixed.
<P><LI>The "Auto-hide mouse pointer" checkbox on the "Mouse movement" page wasn't
working. Another (static) control on the page had the same dialog item ID. %$ı%!, I hate
that. Took me half an hour to figure out.
<P><LI>Mouse-button-3 scrolling didn't work horizontally when vertical scroll bar was disabled in a window. Fixed.
<P><LI>Fixed Netscape hangs with MB3 scrolling when the scroller changed while being
scrolled.
<P><LI>Fixed some other minor quirks with MB3 scrolling.
<P><LI>Many hook features were triggered even though the mouse was currently captured by an application
or the system. This could lead to severe system hangs, especially with "show window list everywhere".
Fixed.
<P><LI>"Hot corners" desktop menu sometimes conflicted with "sliding focus" because
the focus was immediately given back to the window under the mouse. Fixed.

</UL></H6><P><B>XWorkplace 0.9.1 (February 18, 2000)</B>
<H6>First XWorkplace public release.
New features:

<UL><LI>Added object setup string decoding to the "Object" page of every object's
settings notebook.
<P><LI>Added container view flags to "Object" page details.
<P><LI>New hook features on "Mouse mappings" page 2:
mouse-button-3 scrolling, auto-hide mouse pointers, and more.
<P><LI>Added "Show Desktop's context menu" to special functions with screen corner objects.
<P><LI>Added "Enable NumLock on Startup" feature.
<P><LI>Added "Drives" page to trash can's settings notebook for individual
drives support.
<P><LI>Added second "File" page to file-system objects to display all extended attributes.
<P><LI>"WPS Class List" is now multithreaded to some extent.
<P><LI>Trash can "delete" support is finally working! Full drag'n'drop support also.
<P><LI>Implemented proper trash can drives support.
<P><LI>Created generic file operations framework which can process file operations
on the File thread (in order not to block the user interface). This is now used for
"move to trash can", "restore from trash can", "destroy trash objects",
"empty trash can" -- all multithreaded and with progress bars.
<P><LI>"Cannot close VIO window" dialog in XShutdown has been reworked to store
the selection with the auto-close items list while XShutdown is running.
<P><LI>Treesize displays the number of files per directory and can sort according to that now too.
<P><LI>NetscDDE is now prepared for National Language Support too.
<P><LI>Added some SOM kernel classes to "WPS Class List" descriptions.

</UL>Miscellaneous changes:
<UL><LI>Updated messages for the XFLDTRAP.LOG exception log file.
<P><LI>Folder content menus are finally limited so that the menu is not
built for several thousand files.
<P><LI>System sounds are now automatically installed when the respective flag
on the XWPSetup "Features" page is checked.
<P><LI>Added NLS to various parts of XWorkplace where it was missing.
<P><LI>Reorganized WPS Class List code again.
<P><LI>Took the time to work on exception handling once more. Made the entire mechanism
more bomb-proof.

</UL>Bugfixes:

<UL><LI>After closing a subdialog of a notebook page, the WPS would sometimes hang.
Now all subdialogs are owned by the frame instead of the page, which should fix this,
even though I still don't understand what's going here.
<P><LI>Replaced all DosRequestMutexSem calls with WinRequestMutexSem calls.
<P><LI>"Open parent" (Backspace) would crash the WPS when used in a drive (root folder)
window. Fixed.
<P><LI>"Open parent and close" (Shift+Backspace per default) invoked on the Desktop
would close the Desktop. Not such a good idea. Fixed.
<P><LI>"Select by name" was added for Tree views also, which didn't make sense. Fixed.
<P><LI>WinDestroyWindow was never called on "Select by name" windows. Fixed.
<P><LI>Status bars were added to folders even though the feature was disabled
in "Workplace Shell". Fixed.
<P><LI>Right-clicking on a status bar would produce the folder's context menu, but when
changing to a different submenu, the main menu would disappear and the new submenu would
appear just anywhere on the screen. I finally figured out how to call wpDisplayMenu
correctly, so this is fixed now.
<P><LI>Forgot "Work area" setting on "File" page with folders. Fixed.
<P><LI>Fixed a number of small memory leaks with shaped windows, notebook page management,
progress bars, WPS class list, split window controls, "OS/2 Kernel" object.
<P><LI>Sometimes invoking settings strings on folders (esp. "ALWAYSSORT") would work
initially, but not be saved to the extended attributes of the folder. Fixed. Er, this must
have been in XFolder forever.
<P><LI>Replacement "File exists" dialog would sometimes hang the WPS if a large number
of files was processed. Fixed; now using folder mutex semaphores for thread safety.
<P><LI>Trash can kept crashing the WPS in some background thread a few seconds after
the last trash object was destroyed. This happened because the WPS unloaded the
XWPTrashObject class if no more objects of that class existed. Fixed, but that one was
tricky.
<P><LI>Trash objects had "Create another" menu item, which doesn't make sense. Removed.
<P><LI>Fixed trash can populate/refresh mechanism. This is now faster and doesn't crash
all the time (famous last words).
<P><LI>Fixed heap errors with text message file (TMF) handling, which caused sporadic,
non-reproduceable crashes. Also, the TMF got recompiled every single time; fixed that
also.
<P><LI>Loading and unloading the XWorkplace hook via XWPSetup didn't work.
Fixed hookInit and hookKill (xwphook.c).
<P><LI>Fixed XShutdown thread synchronization problems introduced with V0.9.0.
<P><LI>The new XShutdown confirmation introduced with V0.9.0 wasn't always working right. Fixed.

</UL></H6><B>XWorkplace 0.9.0 (November 28, 1999)</B>
<H6>Obviously, I've renamed the whole thing. This version was never released
as a binary version, but only uploaded in source to the Netlabs CVS server.

<P>New features (lots of major ones):
<UL><LI><A HREF="sys_1intro.html">"XWorkplace Setup" object</A> with more general settings.
<P><LI>Extended association mechanism.
<P><LI><A HREF="file_2trashcan.html">XWorkplace trash can.</A>
<P><LI>New <A HREF="06341intro_mousekey.html">XWorkplace PM hook</A> for mouse and keyboard
features (object hotkeys, sliding focus, screen corner objects).
<P><LI>The <A HREF="sys_4wpsclasses.html">"WPS Class List"</A> has been greatly enhanced.
This is now in a separate object, with a split view for a more lucid display.
We now have a new "Create object" context menu item for each installed class,
and method information can be displayed.
<P><LI>New "Sound" object replacement (by replacing the WPSound class).
This has much better sound selections now, with full sound scheme support, even on Warp 3.
<P><LI>"System paths" page in "OS/2 Kernel".
<P><LI>"Drivers" page in "OS/2 Kernel".
<P><LI>"File" pages in file-system object settings notebooks can be replaced
with a new, single page.
<P><LI>"Details" page in disk objects can also be replaced.
<P><LI>All-new "Module" page in program file settings objects, which retrieves
additional information from the executable direcly.
<P><LI><A HREF="menu_7selectsome.html">"Select by name" dialog</A>
now has a history of the last 10 file masks which were entered.
<P><LI>Status bars can now dereference shadows (new setting in "Workplace Shell").
<P><LI>New "Menu bar" setting in Warp 4's "View" context submenu.
<P><LI>New "XWorkplace panic" dialog when Shift key is held down during WPS startup,
which allows you to selectively disable XWorkplace features.
<P><LI>New "Startup" and "Shutdown" pages in Desktop's settings notebook. Startup
page allows you to configure the <A HREF="xsd_03bootlogo.html">boot logo</A> now.
There are now two boot logo styles,
for many people preferred the old blow-up style over the transparent boot logos.
<P><LI>XFldDesktop can now switch between several shutdown menu styles. Also,
"Sort" and "Arrange" can be disabled for the Desktop only.
<P><LI>New "Partitions" button in user-reboot items dialog to automatically add
BootManager partitions.
<P><LI>Per popular request, exception handler beeping can be disabled now
("XWorkplace Setup", "Paranoia" page).
<P><LI>Treesize: is now NLS enabled and dynamically updates the directory sizes even
while collecting files (instead of just displaying "working...").

</UL>Miscellaneous changes:
<UL><LI>I've finally found the time to rework all the functions in
the linklist.* files. This should speed up a number of internal
functions significantly.
<P><LI>The code for building folder context menus from the Configuration Folder
contents has been mostly rewritten. This now uses less memory and implements
a cache for the objects in the contents folder so that they need not be rebuilt
every time a context menu is opened, but only if the .ICONPOS EAs changed.
Lots of new function in menus.c for this.
<P><LI>Restructured settings pages all over the place.
<P><LI>Raised default "variable menu item ID offset" to 700 for
<A HREF="vers_1compat.html">Object Desktop compatibility</A>.
<P><LI>Included Christian Langanke's new TMF functions for message handling.
XWorkplace message files are now plain text; MKMSGF.EXE is no longer needed
to translate message files.
<P><LI>Removed the "default class title" for the XFolder class. Folder default
titles are no longer changed.
<P><LI>Improved multithreading all over the place. Introduced new "File" thread
with regular priority which takes over some functionality from the Worker thread.
<P><LI>Also, "Refresh now" now operates in the "File" thread (which blocked
the user interface previously).
<P><LI>"File exists" dialog now displays file sizes in bytes, not KB.
<P><LI>XShutdown now writes time information into the XSHUTDWN.LOG file with each
line.

</UL>Bugfixes:
<UL><LI>Fixed a minor problem when NLS strings were not found (cmnLoadString).
<P><LI>Fixed the ancient check box double-click bug. ;-) Double-clicks on
check boxes are no longer ignored (fnwpNotebookCommon, notebook.c).
<P><LI>Some users reported that the Configuration Folder was no longer found
with certain configurations when it was moved away from the location where the install
program creates it. Fixed; since the WPS method which has been defined for this doesn't
seem to be working with all Warp versions and fixpak levels (esp. not on Aurora), I
have written my own (wpshQueryObjectFromID).
<P><LI>When folder auto-sort was off but status bars enabled, folder contents
would keep scrolling up when opened in Icon view, adding ugly scroll bars to
the folder window even if not necessary. Fixed (now zeroing SUBCLASSEDLISTITEM
properly, cmnSubclassFolderFrame, common.c).
<P><LI>Folder content menus would sometimes crash with titles > 100 chars.
<P><LI>"View" pulldown in Warp 4 folder menu bars lacked the additional items.
I'm not sure if this was broken in V0.85 already or if I broke this since then,
but it's working now anyway. ;-)
<P><LI>Right-click on status bars opened the closed-view context menu (open-view
items were missing). Fixed (fnwpStatusBar, xfldr.c).
<P><LI>The "Select by name" dialog had problems finding files according to
wildcards like "*html" (without dots). Fixed (new function strhMatch, stringh.c).
<P><LI>The boot logo would remain on the screen forever if startup folder processing
was cancelled or errors occured during startup. Fixed.
<P><LI>Fixed a few small memory leaks (XFldObject "Object" settings page,
"Auto-close items" and "User reboot" dialogs).
<P><LI>For drives > 4 GB, XFolder still returned garbage status bar information.
Fixed, thanks to RÅdiger Ihle who found the bug in the sources.
<P><LI>Error message 99 when opening a disk object had a "%1" string in there. Fixed;
this now displays the drive letter.
<P><LI>The WPS class list produced an exception every time a class was deregistered
using the context menus. Fixed; container record cores are now freed before the
corresponding data is freed.
<P><LI>Previous versions sometimes forgot to process the contents of the XWorkplace
startup folder upon first bootup. This has been completely reworked, now using the
XWorkplace daemon (XWPDAEMON.EXE).
<P><LI>XShutdown would crash when the INI file names were specified in lower case
in CONFIG.SYS. Fixed.
<P><LI>XShutdown sent WM_CLOSE to some applications instead of just WM_QUIT. For
example, Program Commander didn't like this too much. Fixed; all PM apps get
WM_QUIT now.
<P><LI>For some reason, XFldObject::wpObjectReady does not get called for WPFolder
instances (at least on my Warp 4 FP 10), so that the Worker thread was unable to
track awake folders.Fixed; we now override XFolder::wpObjectReady also.
<P><LI>Finally made the global and kernel settings thread-safe in really all possible
situations (hopefully). This fixes a number of problems with folder windows which
are not running on thread 1, which happens sometimes (e.g. folders opened from REXX
or TREESIZE.EXE).
<P><LI>Reworked exception handlers once again. This fixes hangs in the Worker thread
when PMSHELL.EXE got killed or trapped somewhere, which used to require a system reboot.
<P><LI>I have reorganized large portions of the XShutdown code, which should help
with some hung systems during XShutdown.
</UL></H6>
</BODY>
</HTML>

